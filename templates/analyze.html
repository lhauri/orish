{% extends 'base.html' %}
{% block title %}Document Analyzer â€¢ Orish{% endblock %}
{% block content %}
<div class="card">
    <p class="tag">Smart analyzer</p>
    <h2>Upload classroom material</h2>
    <p class="muted">Accepts PDF, DOCX, TXT, CSV, XLSX (first 10 pages/rows). AI highlights summary, vocab, grammar, and action points.</p>
    <form class="form-grid" method="post" enctype="multipart/form-data">
        {{ csrf_field() }}
        <label>File<input type="file" name="document" accept=".pdf,.docx,.txt,.md,.csv,.xlsx" required></label>
        <label>Focus prompt<textarea name="prompt" rows="2" placeholder="e.g. Emphasize vocabulary gaps.">{{ custom_prompt }}</textarea></label>
        <button class="btn primary">Analyze</button>
    </form>
</div>
{% if analysis %}
<div class="card highlight">
    <p class="tag">AI insights</p>
    <h3>Summary</h3>
    <p>{{ analysis.summary }}</p>
    <h4>Vocabulary</h4>
    <p>{{ analysis.vocabulary }}</p>
    <h4>Grammar</h4>
    <p>{{ analysis.grammar }}</p>
    <h4>Action points</h4>
    <p>{{ analysis.action_points }}</p>
</div>
{% endif %}
{% if sample_text %}
<div class="card">
    <p class="tag">Extracted text (preview)</p>
    <pre class="sample-text">{{ sample_text }}</pre>
</div>
{% endif %}
{% endblock %}
